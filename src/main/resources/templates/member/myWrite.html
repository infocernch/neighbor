<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Title</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
    <script th:src="@{/js/jquery-3.6.3.min.js}" type="text/javascript"></script>
    <style>
        .img {width: 50px; height: 50px;}
        h2 {text-align: center; margin-top: 1.5em;}
        .item{margin-top: 1.5em;margin-bottom: 3em;}
        .item ul {list-style: none; display: flex; justify-content: space-evenly;}
        a {text-decoration: none;}
        .pagination {margin-top: 3em; margin-bottom: 5em;}
        .pagination .pageNum{list-style: none; display: flex;}
    </style>
</head>
<body>
<!-- Nav바-->
<div th:replace="nav :: nav"></div>

<section class="list">
    <h2>개인정보페이지</h2>

    <diV class="item">
        <ul>
            <li></li>
            <li><a id="liWrite" th:href="@{/member/myWrite}" >내가 쓴 글</a></li>
            <li><a id="liInfo" th:href="@{/member/myInfo}">개인 정보</a></li>
            <li><a id="liEditInfo" th:href="@{/member/editInfo}">정보 변경</a></li>
            <li></li>
        </ul>
    </diV>
</section>
<div class="myWrite">
    <table  style="width: 100%;" class="table table-hover">
        <thead>
            <th>글번호</th>
            <th>카테고리</th>
            <th>사진</th>
            <th>제목</th>
            <th>등록일</th>
            <th>조회수</th>
        </thead>
        <tbody th:each="list : ${writeList}">
            <tr th:onclick="'detail('+${list.postId}+')'" >
                <td th:text="${list.postId}"></td>
                <td th:text="${list.categoryName}"></td>
                <td> <img class="img"  th:src="@{/used/findImg(postId=${list.postId})}"  alt="실패"></td>
                <td th:text="${list.title}"></td>
                <td th:text="${#dates.format(list.postUpdate,'yyyy년 MM월 dd일 HH시 mm분')}"></td>
                <td th:text="${list.postView}"></td>
            </tr>
        </tbody>
    </table>

    <!--페이지네비게이션-->
    <div class="pagination justify-content-center">
        <ul class="pageNum">

            <!--맨앞번호-->
            <li class="page-item" th:if="${pageMaker.startPage > 1}">
                <a class="page-link" th:href="|?pageNum=${1}|">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-bar-left" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M12.5 15a.5.5 0 0 1-.5-.5v-13a.5.5 0 0 1 1 0v13a.5.5 0 0 1-.5.5ZM10 8a.5.5 0 0 1-.5.5H3.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L3.707 7.5H9.5a.5.5 0 0 1 .5.5Z"/>
                    </svg>
                </a>
            </li>

            <li class="page-item" th:classappend="${pageMaker.prev ? '' : 'disabled'}" th:if="${pageMaker.startPage > 1}">
                <a class="page-link" th:href="|?pageNum=${pageMaker.startPage - 1}|">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-left" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"/>
                    </svg>
                </a>
            </li>
            <th:block th:each="num : ${#numbers.sequence(pageMaker.startPage, pageMaker.endPage)}">
                <li class="page-item" th:classappend="${pageMaker.criteria.pageNum == num ? 'active' : ''}">
                    <a class="page-link" th:href="|?pageNum=${num}|"><span th:text="${num}"></span></a>
                </li>
            </th:block>
            <li class="page-item" th:classappend="${pageMaker.next ? '' : 'disabled'}" th:if="${pageMaker.endPage < pageMaker.realEnd}">
                <a class="page-link" th:href="|?pageNum=${pageMaker.endPage + 1}|">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16">
                       <path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"/>
                    </svg>
                </a>
            </li>

            <!--맨끝번호-->
            <li class="page-item" th:if="${pageMaker.endPage < pageMaker.realEnd}">
                <a class="page-link" th:href="|?pageNum=${pageMaker.realEnd}|">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-bar-right" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M6 8a.5.5 0 0 0 .5.5h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L12.293 7.5H6.5A.5.5 0 0 0 6 8Zm-2.5 7a.5.5 0 0 1-.5-.5v-13a.5.5 0 0 1 1 0v13a.5.5 0 0 1-.5.5Z"/>
                    </svg>
                </a>
            </li>
        </ul>
    </div>
</div>

    <script th:inline="javascript">
        function detail(postId) {
            if (confirm("작성한 게시글로 가시겠습니까?")) {
                location.href="/used/detail?postId="+postId;
            }
        }
    </script>
<!-- Footer-->
<div th:replace="footer :: footer"></div>
</body>
</html>